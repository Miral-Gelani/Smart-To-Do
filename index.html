<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart To-Do List</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
 

<style>
body{
  font-family: Arial, sans-serif;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#0f3460,#0d9488);
  padding:20px;
}

    .todo-card {
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      width: 100%;
      max-width: 600px;
      overflow: hidden;
    }


.card-header-custom{
  background:linear-gradient(135deg,#16213e,#0d9488);
  color:white;
  padding:25px;
  text-align:center;
}

.stats{
  display:flex;
  justify-content:space-around;
  margin-top:15px;
  font-size:14px;
}

.progress{
  height:6px;
  margin-top:10px;
}

.input-section{
  padding:20px;
  border-bottom:1px solid #eee;
}

.task-input{
  border-radius:10px;
}

.add-btn{
  border-radius:10px;
}

.filter-bar{
  padding:10px 20px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  border-bottom:1px solid #eee;
}

.filter-btn{
  padding:4px 12px;
  border-radius:20px;
  border:1px solid #ccc;
  background:white;
  cursor:pointer;
  font-size:13px;
}

.filter-btn.active{
  background:#0d9488;
  color:white;
  border:none;
}

.task-list{
  padding:20px;
  max-height:350px;
  overflow-y:auto;
}

.task-item{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px;
  margin-bottom:8px;
  background:#f8f9fa;
  border-radius:10px;
  transition:0.3s;
}

.task-item:hover{
  background:#e9ecef;
}

.task-item.done .task-text{
  text-decoration:line-through;
  color:gray;
}

.check{
  width:20px;
  height:20px;
  border-radius:50%;
  border:2px solid #0d9488;
  cursor:pointer;
}

.check.checked{
  background:#0d9488;
}

.badge-priority{
  font-size:11px;
  padding:3px 8px;
  border-radius:20px;
}

.high{background:#ffe0e0;color:#c0392b;}
.medium{background:#fff3cd;color:#b7770d;}
.low{background:#d4edda;color:#1e7e34;}

.task-actions{
  margin-left:auto;
  display:flex;
  gap:5px;
}

.action-btn{
  border:none;
  background:none;
  cursor:pointer;
  font-size:14px;
}

.footer{
  padding:15px 20px;
  display:flex;
  justify-content:space-between;
  border-top:1px solid #eee;
  font-size:14px;
}
</style>
</head>

<body>

<div class="todo-card">

  <div class="card-header-custom">
    <h4>SMART TO-DO</h4>
    <div class="stats">
      <span>Total: <b id="total">0</b></span>
      <span>Done: <b id="done">0</b></span>
      <span>Left: <b id="left">0</b></span>
    </div>
    <div class="progress">
      <div class="progress-bar bg-light" id="progressBar" style="width:0%"></div>
    </div>
  </div>

  <div class="input-section">
    <div class="input-group">
      <input type="text" id="taskInput" class="form-control task-input" placeholder="Enter task">
      <select id="prioritySelect" class="form-select">
        <option value="medium">Medium</option>
        <option value="high">High</option>
        <option value="low">Low</option>
      </select>
      <button class="btn btn-dark add-btn" onclick="addTask()">Add</button>
    </div>
  </div>

  <div class="filter-bar">
    <button class="filter-btn active" onclick="setFilter('all')">All</button>
    <button class="filter-btn" onclick="setFilter('active')">Active</button>
    <button class="filter-btn" onclick="setFilter('completed')">Completed</button>
  </div>

  <div class="task-list" id="taskList"></div>

  <div class="footer">
    <span id="footerText">0 tasks remaining</span>
    <button class="btn btn-sm btn-danger" onclick="clearCompleted()">Clear Completed</button>
  </div>

</div>

<script>

// ===== DATA =====
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
let currentFilter = "all";

// ===== SAVE =====
function saveTasks(){
  localStorage.setItem("tasks", JSON.stringify(tasks));
}

// ===== ADD =====
function addTask(){
  let input = document.getElementById("taskInput");
  let text = input.value.trim();
  let priority = document.getElementById("prioritySelect").value;

  if(text === "") return alert("Enter a task");

  tasks.push({
    id: Date.now(),
    text: text,
    priority: priority,
    done: false
  });

  input.value="";
  saveTasks();
  renderTasks();
}

// ===== TOGGLE =====
function toggleTask(id){
  for(let task of tasks){
    if(task.id === id){
      task.done = !task.done;
    }
  }
  saveTasks();
  renderTasks();
}

// ===== DELETE =====
function deleteTask(id){
  tasks = tasks.filter(task => task.id !== id);
  saveTasks();
  renderTasks();
}

// ===== FILTER =====
function setFilter(type){
  currentFilter = type;

  document.querySelectorAll(".filter-btn").forEach(btn=>{
    btn.classList.remove("active");
  });

  event.target.classList.add("active");
  renderTasks();
}

// ===== CLEAR =====
function clearCompleted(){
  tasks = tasks.filter(task => !task.done);
  saveTasks();
  renderTasks();
}

// ===== UPDATE STATS =====
function updateStats(){
  let total = tasks.length;
  let done = tasks.filter(t=>t.done).length;
  let left = total - done;

  document.getElementById("total").innerText = total;
  document.getElementById("done").innerText = done;
  document.getElementById("left").innerText = left;

  let percent = total===0?0:Math.round((done/total)*100);
  document.getElementById("progressBar").style.width = percent+"%";

  document.getElementById("footerText").innerText =
    left===0 ? "All tasks completed ðŸŽ‰" : left+" tasks remaining";
}

// ===== RENDER =====
function renderTasks(){
  let list = document.getElementById("taskList");
  list.innerHTML="";

  let filtered = tasks;

  if(currentFilter==="active"){
    filtered = tasks.filter(t=>!t.done);
  }
  if(currentFilter==="completed"){
    filtered = tasks.filter(t=>t.done);
  }

  filtered.forEach(task=>{
    let div = document.createElement("div");
    div.className = "task-item"+(task.done?" done":"");

    div.innerHTML = `
      <div class="check ${task.done?"checked":""}"
           onclick="toggleTask(${task.id})"></div>

      <span class="task-text">${task.text}</span>

      <span class="badge-priority ${task.priority}">
        ${task.priority}
      </span>

      <div class="task-actions">
        <button class="action-btn" onclick="deleteTask(${task.id})">ðŸ—‘</button>
      </div>
    `;

    list.appendChild(div);
  });

  updateStats();
}

// Initial Load
renderTasks();

</script>

</body>
</html>
